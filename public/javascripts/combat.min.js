/*! Personal_Project 2015-06-01 */
myApp.controller("CombatController",["$scope","$http","$location","SelectedPlayer",function(a,b,c,d){a.monsters=[],console.log(d),a.battlefield=function(){b.get("/users/combat/"+d.playerId).then(function(b){console.log(b.data),a.player=b.data.characters[0],console.log(a.player)})},a.go=function(a){c.path(a)},a.fight=function(){a.outcome=a.monsters[0].monsterHealth-a.player.playerAttack,a.monsters[0].monsterHealth=a.outcome,a.outcome<=0?(a.monsters.shift(),0===a.monsters.length&&a.go("/win")):a.player.playerHealth=a.player.playerHealth-a.monster.monsterAttack,a.player.playerHealth<=0&&a.go("/lose")},a.battlefield()}]);